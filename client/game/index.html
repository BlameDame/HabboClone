<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>UsWorld</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="ui">
    <h3>Room Selector</h3>
    <div id="room-buttons">
      <!-- buttons populated by script -->
    </div>

    <h3>Furniture (drag into room)</h3>
    <div id="furniture-list">
      <!-- furniture items created by script -->
    </div>

    <!-- <div style="margin-top:8px">
      <div class="btn secondary" id="btn-fetch">Fetch Room / Sync</div>
      <div class="btn" id="btn-center">Center Camera</div>
    </div> -->

    <div id="log"></div>
  </div>

  <div id="game-container"></div>

  <!-- bottom UI bar -->
  <div id="bottom-ui">
  <div id="chat-bar">
    <input type="text" id="chat-input" placeholder="Say something..." />
    <button id="btn-send-chat">Send</button>
  </div>
  <div class="btn" id="btn-friends">Friends</div>
  <div class="btn" id="btn-pm">PM</div>
  <div class="btn" id="btn-room">Room</div>
</div>


<!-- bottom pop-up windows -->
<div id="friends-window" class="window hidden">
  <h3>Friends</h3>
  <ul id="friends-list">
    <li>DameGuwap (Online)</li>
    <li>RetroFan99 (Offline)</li>
  </ul>
</div>

<div id="pm-window" class="window hidden">
  <h3>Private Messages</h3>
  <div id="pm-messages" class="scroll-area">
    <p><strong>RetroFan99:</strong> Yo, you online?</p>
  </div>
  <div class="chat-input">
    <input type="text" id="pm-input" placeholder="Send a private message..." />
    <button id="btn-send-pm">Send</button>
  </div>
</div>

<div id="room-window" class="window hidden">
  <h3>Room Info</h3>
  <p><strong>Name:</strong> Sample Room</p>
  <p><strong>Owner:</strong> DameGuwap</p>
  <p><strong>Visitors:</strong> 3/25</p>
  <button id="btn-edit-room" class="btn secondary">Edit Room</button>
</div>

<div id="edit-room-window" class="window hidden">
  <h3>Edit Room</h3>

  <div class="furni-toolbar">
    <input type="text" id="furni-search" placeholder="Search furniture..." />
    <button id="btn-close-editor" class="btn small">Close</button>
  </div>

  <div id="furni-list" class="furni-grid"></div>
</div>


  <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
  <script>
    // bottom UI script
    function initBottomUI() {
      const btnChat = document.getElementById('btn-chat');
      const btnFriends = document.getElementById('btn-friends');
      const btnPM = document.getElementById('btn-pm');
      const btnRoom = document.getElementById('btn-room');

      if (btnChat) btnChat.onclick = () => toggleSection('chat-window');
      if (btnFriends) btnFriends.onclick = () => toggleSection('friends-window');
      if (btnPM) btnPM.onclick = () => toggleSection('pm-window');
      if (btnRoom) btnRoom.onclick = () => toggleSection('room-window');
    }

    function toggleSection(id) {
      const el = document.getElementById(id);
      if (!el) return;
      el.classList.toggle('hidden');
      el.classList.toggle('visible');
    }

    window.onload = initBottomUI;
  </script>
  <script src="main.js"></script>
</body>
</html>
